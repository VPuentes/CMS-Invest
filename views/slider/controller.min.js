angular.module("inspinia").controller("Slider",["$rootScope","$scope","$state","$http","$stateParams","SweetAlert",function(e,t,r,o,a,n){t.loading=!0,o.get("php/slider.php").success(function(e){t.slider=e,t.loading=!1}),t.publicar=function(e,a){if(1==a)var i="¿Esta seguro que desea publicar la imagen?";else var i="¿Esta seguro que desea remover la imagen?";n.swal({title:i,text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#559bdd",confirmButtonText:"Si",cancelButtonText:"NO",closeOnConfirm:!0,closeOnCancel:!0},function(n){n&&o({method:"POST",url:"php/slider_publicar.php?idslider="+e+"&numero="+a,data:JSON.stringify(t.valores)}).success(function(e,t,o,a){r.go(r.current,{},{reload:!0})}).error(function(e,t,r,o){console.log("error al publicar la imagen")})})},t.eliminar=function(e,a){n.swal({title:"¿Esta seguro que desea eliminar la imagen?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#559bdd",confirmButtonText:"Si",cancelButtonText:"NO",closeOnConfirm:!0,closeOnCancel:!0},function(n){n&&o({method:"POST",url:"php/slider_eliminar.php?idslider="+e+"&ruta="+a,data:JSON.stringify(t.valores)}).success(function(e,t,o,a){r.go(r.current,{},{reload:!0})}).error(function(e,t,r,o){console.log("error al eliminar la imagen")})})}}]).controller("SliderAgregar",["$rootScope","$scope","$http","$stateParams","SweetAlert","$state","Upload",function(e,t,r,o,a,n,i){new Date;o.id||(t.forma={idslider:0,idusuario:e.datos.idusuario,activo:0,imagenes:[],rutas:[]}),t.agregar=function(){i.upload({url:"php/slider_agregar.php",data:t.forma,method:"POST"}).then(function(e){e.data.status&&n.go("slider.index")},function(e){console.log("Error status: "+e.status)})}}]);